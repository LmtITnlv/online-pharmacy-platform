{% extends 'base.html' %}

{% block title %}健康药房 - 您身边的健康专家{% endblock %}

{% block content %}
<!-- 轮播图 -->
<section class="hero-section">
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="d-block w-100 bg-primary text-white" style="height: 400px;">
                    <div class="container h-100 d-flex align-items-center">
                        <div>
                            <h2 class="display-4">健康药房</h2>
                            <p class="lead">您身边的健康专家，提供优质药品和专业服务</p>
                            <a href="{% url 'products:product_list' %}" class="btn btn-light btn-lg">立即选购</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="d-block w-100 bg-success text-white" style="height: 400px;">
                    <div class="container h-100 d-flex align-items-center">
                        <div>
                            <h2 class="display-4">专业用药指导</h2>
                            <p class="lead">我们的药师团队为您提供专业的用药建议</p>
                            <a href="{% url 'core:about' %}" class="btn btn-light btn-lg">了解更多</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div class="d-block w-100 bg-info text-white" style="height: 400px;">
                    <div class="container h-100 d-flex align-items-center">
                        <div>
                            <h2 class="display-4">快速配送</h2>
                            <p class="lead">下单后最快2小时送达，让您无需等待</p>
                            <a href="{% url 'products:product_list' %}" class="btn btn-light btn-lg">立即选购</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>
</section>

<!-- 分类展示 -->
<section class="categories-section py-5">
    <div class="container">
        <h2 class="text-center mb-4">药品分类</h2>
        <div class="row g-4">
            {% if categories %}
                {% for category in categories %}
                <div class="col-md-4">
                    <a href="{% url 'products:product_list_by_category' category.slug %}" class="text-decoration-none">
                        <div class="category-card">
                            <img src="https://via.placeholder.com/400x200?text=分类图片" alt="{{ category.name }}">
                            <div class="category-overlay">{{ category.name }}</div>
                        </div>
                    </a>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-12 text-center">
                    <p>暂无分类数据</p>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- 特色产品 -->
<section class="featured-products py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-4">热门药品</h2>
        <div class="row g-4">
            {% if featured_products %}
                {% for product in featured_products %}
                <div class="col-md-3">
                    <div class="card product-card h-100">
                        {% if product.prescription_required %}
                        <span class="prescription-badge">处方药</span>
                        {% endif %}
                        {% if product.image %}
                        <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
                        {% else %}
                        <img src="https://via.placeholder.com/300x300?text=药品图片" class="card-img-top" alt="{{ product.name }}">
                        {% endif %}
                        <div class="card-body">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <p class="card-text text-danger fw-bold">¥{{ product.price }}</p>
                            <a href="{% url 'products:product_detail' product.slug %}" class="btn btn-primary w-100">查看详情</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-12 text-center">
                    <p>暂无产品数据</p>
                </div>
            {% endif %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'products:product_list' %}" class="btn btn-outline-primary">查看全部药品</a>
        </div>
    </div>
</section>

<!-- 服务优势 -->
<section class="features-section py-5">
    <div class="container">
        <h2 class="text-center mb-5">我们的优势</h2>
        <div class="row g-4 text-center">
            <div class="col-md-3">
                <div class="p-3">
                    <i class="fas fa-shipping-fast fa-3x text-primary mb-3"></i>
                    <h4>快速配送</h4>
                    <p>最快2小时送达，解您燃眉之急</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-3">
                    <i class="fas fa-user-md fa-3x text-primary mb-3"></i>
                    <h4>专业指导</h4>
                    <p>专业药师在线解答用药疑问</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-3">
                    <i class="fas fa-shield-alt fa-3x text-primary mb-3"></i>
                    <h4>正品保障</h4>
                    <p>所有药品均为正规渠道采购</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-3">
                    <i class="fas fa-hand-holding-heart fa-3x text-primary mb-3"></i>
                    <h4>贴心服务</h4>
                    <p>7x24小时客服，随时为您服务</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
